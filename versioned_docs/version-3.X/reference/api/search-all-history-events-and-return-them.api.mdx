---
id: search-all-history-events-and-return-them
title: "Search all history events and return them."
description: "Search all history events and return them."
sidebar_label: "Search all history events and return them."
hide_title: true
hide_table_of_contents: true
api: {"description":"Search all history events and return them.\nA section can be defined (defaults to `/` == root) to interpret relative property paths.\nExample: is(volume) and (reported.age>23d or desired.clean==true or metadata.version==2)\n","tags":["graph_search"],"parameters":[{"name":"graph_id","in":"path","example":"resoto","description":"The identifier of the graph","required":true,"schema":{"type":"string"}},{"name":"section","in":"query","description":"The name of the section used for all property paths. If not defined root is assumed.","required":false,"schema":{"type":"string","enum":["reported","desired","metadata"]}},{"name":"count","in":"query","description":"Optional parameter to get a Ck-Element-Count header which returns the number of returned json elements","required":false,"schema":{"type":"boolean","default":true}},{"name":"before","in":"query","description":"Optional parameter to get all history events before the given timestamp","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"after","in":"query","description":"Optional parameter to get all history events after the given timestamp","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"change","in":"query","description":"Optional parameter to get all history events with the given change type","required":false,"schema":{"type":"string","enum":["node_created","node_updated","node_deleted"]}}],"requestBody":{"description":"The search to perform","content":{"text/plain":{"schema":{"type":"string","example":"is(volume) and reported.volume_size>100"}}}},"responses":{"200":{"description":"The result of this search in the defined format","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true,"properties":{"kind":{"type":"string","description":"The kind of this node."}},"example":{"id":"123456","reported":{"kind":"test.person","name":"Batman","city":"Gotham"}},"title":"Node"}}},"application/x-ndjson":{"schema":{"type":"object","additionalProperties":true,"properties":{"kind":{"type":"string","description":"The kind of this node."}},"example":{"id":"123456","reported":{"kind":"test.person","name":"Batman","city":"Gotham"}},"title":"Node"},"example":"{\"type\": \"node\", \"id\": \"root\", \"revision\": \"123\", \"reported\": {\"kind\": \"graph_root\", \"id\": \"root\", \"tags\": {}, \"name\": \"root\"}}\n{\"type\": \"node\", \"id\": \"cloud_id\",  \"revision\": \"12\", \"reported\": {\"kind\": \"cloud\", \"id\": \"onelogin\", \"tags\": {}, \"name\": \"onelogin\", \"ctime\": \"2021-12-14T08:49:52Z\", \"age\": \"6d7h\"}}\n{\"type\": \"edge\", \"from\": \"root\", \"to\": \"cloud_id\", \"edge_type\": \"default\"}\n"},"text/plain":{"example":"reported:\n  kind: graph_root\n  id: root\n  tags: {}\n  name: root\nmetadata:\n  cleaned: false\n  phantom: true\n  protected: false\n"},"application/yaml":{"example":"id: root\ntype: node\nrevision: _daGy-Bu---\nreported:\n    kind: graph_root\n    id: root\n    tags: { }\n    name: root\nmetadata:\n    python_type: resotolib.baseresources.GraphRoot\n    cleaned: false\n    phantom: true\n    protected: false\nkinds:\n    - graph_root\n---\nid: 2RZlTX9yzeBwTNT_H1KZVA\ntype: node\nrevision: _daGy-Bi---\nreported:\n    kind: cloud\n    id: onelogin\n    tags: { }\n    name: onelogin\n    ctime: '2021-12-14T08:49:52Z'\n    age: 6d7h\nmetadata:\n    python_type: resotolib.baseresources.Cloud\n    cleaned: false\n    phantom: false\n    protected: false\n    descendant_summary:\n        onelogin_account: 1\n        onelogin_region: 1\n        onelogin_user: 1034\n    descendant_count: 1036\nancestors:\n    cloud:\n        reported:\n            name: onelogin\n            id: onelogin\nkinds:\n    - cloud\n    - base_cloud\n    - resource\n---\ntype: edge\nfrom: root\nto: 2RZlTX9yzeBwTNT_H1KZVA\nedge_type: default\n"}}}},"method":"post","path":"/graph/{graph_id}/search/history/list","servers":[{"url":"https://{host}:{port}","variables":{"host":{"default":"localhost"},"port":{"default":"8900"}}}],"info":{"title":"Resoto Core REST API","version":"V1"},"postman":{"name":"Search all history events and return them.","description":{"content":"Search all history events and return them.\nA section can be defined (defaults to `/` == root) to interpret relative property paths.\nExample: is(volume) and (reported.age>23d or desired.clean==true or metadata.version==2)\n","type":"text/plain"},"url":{"path":["graph",":graph_id","search","history","list"],"host":["{{baseUrl}}"],"query":[{"disabled":false,"description":{"content":"The name of the section used for all property paths. If not defined root is assumed.","type":"text/plain"},"key":"section","value":""},{"disabled":false,"description":{"content":"Optional parameter to get a Ck-Element-Count header which returns the number of returned json elements","type":"text/plain"},"key":"count","value":""},{"disabled":false,"description":{"content":"Optional parameter to get all history events before the given timestamp","type":"text/plain"},"key":"before","value":""},{"disabled":false,"description":{"content":"Optional parameter to get all history events after the given timestamp","type":"text/plain"},"key":"after","value":""},{"disabled":false,"description":{"content":"Optional parameter to get all history events with the given change type","type":"text/plain"},"key":"change","value":""}],"variable":[{"disabled":false,"description":{"content":"(Required) The identifier of the graph","type":"text/plain"},"type":"any","value":"","key":"graph_id"}]},"header":[{"key":"Content-Type","value":"text/plain"},{"key":"Accept","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"\"\""}}}
sidebar_class_name: "post api-method"
info_path: versioned_docs/version-3.X/reference/api/resoto-core-rest-api
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Search all history events and return them.</h1>

<MethodEndpoint method={"post"} path={"/graph/{graph_id}/search/history/list"}></MethodEndpoint>

<SecuritySchemes infoPath={"versioned_docs/version-3.X/reference/api/resoto-core-rest-api"}></SecuritySchemes>

Search all history events and return them. A section can be defined (defaults to `/` == root) to interpret relative property paths. Example: is(volume) and (reported.age\>23d or desired.clean==true or metadata.version==2)

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Path Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"graph_id","in":"path","example":"resoto","description":"The identifier of the graph","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details><details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"section","in":"query","description":"The name of the section used for all property paths. If not defined root is assumed.","required":false,"schema":{"type":"string","enum":["reported","desired","metadata"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"count","in":"query","description":"Optional parameter to get a Ck-Element-Count header which returns the number of returned json elements","required":false,"schema":{"type":"boolean","default":true}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"before","in":"query","description":"Optional parameter to get all history events before the given timestamp","required":false,"schema":{"type":"string","format":"date-time"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"after","in":"query","description":"Optional parameter to get all history events after the given timestamp","required":false,"schema":{"type":"string","format":"date-time"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"change","in":"query","description":"Optional parameter to get all history events with the given change type","required":false,"schema":{"type":"string","enum":["node_created","node_updated","node_deleted"]}}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"text/plain"} value={"text/plain-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}><div style={{"marginTop":"1rem","marginBottom":"1rem"}}>

The search to perform

</div></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"string"} required={false} schemaName={undefined} qualifierMessage={undefined} schema={{"type":"string","example":"is(volume) and reported.volume_size>100"}}></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

The result of this search in the defined format

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={false} name={"kind"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"The kind of this node."}}></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"[\n  {\n    \"id\": \"123456\",\n    \"reported\": {\n      \"kind\": \"test.person\",\n      \"name\": \"Batman\",\n      \"city\": \"Gotham\"\n    }\n  }\n]"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem><TabItem label={"application/x-ndjson"} value={"application/x-ndjson"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"kind"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"The kind of this node."}}></SchemaItem><SchemaItem name={"property name*"} required={false} schemaName={"any"} qualifierMessage={undefined} schema={{"type":"object","additionalProperties":true,"properties":{"kind":{"type":"string","description":"The kind of this node."}},"example":{"id":"123456","reported":{"kind":"test.person","name":"Batman","city":"Gotham"}},"title":"Node"}} collapsible={false} discriminator={false}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"id\": \"123456\",\n  \"reported\": {\n    \"kind\": \"test.person\",\n    \"name\": \"Batman\",\n    \"city\": \"Gotham\"\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\"type\": \"node\", \"id\": \"root\", \"revision\": \"123\", \"reported\": {\"kind\": \"graph_root\", \"id\": \"root\", \"tags\": {}, \"name\": \"root\"}}\n{\"type\": \"node\", \"id\": \"cloud_id\",  \"revision\": \"12\", \"reported\": {\"kind\": \"cloud\", \"id\": \"onelogin\", \"tags\": {}, \"name\": \"onelogin\", \"ctime\": \"2021-12-14T08:49:52Z\", \"age\": \"6d7h\"}}\n{\"type\": \"edge\", \"from\": \"root\", \"to\": \"cloud_id\", \"edge_type\": \"default\"}\n"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem><TabItem label={"text/plain"} value={"text/plain"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"any"} required={false} schemaName={undefined} qualifierMessage={undefined} schema={{"example":"reported:\n  kind: graph_root\n  id: root\n  tags: {}\n  name: root\nmetadata:\n  cleaned: false\n  phantom: true\n  protected: false\n"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"reported:\n  kind: graph_root\n  id: root\n  tags: {}\n  name: root\nmetadata:\n  cleaned: false\n  phantom: true\n  protected: false\n"} language={"shell"}></ResponseSamples></TabItem></SchemaTabs></TabItem><TabItem label={"application/yaml"} value={"application/yaml"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"any"} required={false} schemaName={undefined} qualifierMessage={undefined} schema={{"example":"id: root\ntype: node\nrevision: _daGy-Bu---\nreported:\n    kind: graph_root\n    id: root\n    tags: { }\n    name: root\nmetadata:\n    python_type: resotolib.baseresources.GraphRoot\n    cleaned: false\n    phantom: true\n    protected: false\nkinds:\n    - graph_root\n---\nid: 2RZlTX9yzeBwTNT_H1KZVA\ntype: node\nrevision: _daGy-Bi---\nreported:\n    kind: cloud\n    id: onelogin\n    tags: { }\n    name: onelogin\n    ctime: '2021-12-14T08:49:52Z'\n    age: 6d7h\nmetadata:\n    python_type: resotolib.baseresources.Cloud\n    cleaned: false\n    phantom: false\n    protected: false\n    descendant_summary:\n        onelogin_account: 1\n        onelogin_region: 1\n        onelogin_user: 1034\n    descendant_count: 1036\nancestors:\n    cloud:\n        reported:\n            name: onelogin\n            id: onelogin\nkinds:\n    - cloud\n    - base_cloud\n    - resource\n---\ntype: edge\nfrom: root\nto: 2RZlTX9yzeBwTNT_H1KZVA\nedge_type: default\n"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"id: root\ntype: node\nrevision: _daGy-Bu---\nreported:\n    kind: graph_root\n    id: root\n    tags: { }\n    name: root\nmetadata:\n    python_type: resotolib.baseresources.GraphRoot\n    cleaned: false\n    phantom: true\n    protected: false\nkinds:\n    - graph_root\n---\nid: 2RZlTX9yzeBwTNT_H1KZVA\ntype: node\nrevision: _daGy-Bi---\nreported:\n    kind: cloud\n    id: onelogin\n    tags: { }\n    name: onelogin\n    ctime: '2021-12-14T08:49:52Z'\n    age: 6d7h\nmetadata:\n    python_type: resotolib.baseresources.Cloud\n    cleaned: false\n    phantom: false\n    protected: false\n    descendant_summary:\n        onelogin_account: 1\n        onelogin_region: 1\n        onelogin_user: 1034\n    descendant_count: 1036\nancestors:\n    cloud:\n        reported:\n            name: onelogin\n            id: onelogin\nkinds:\n    - cloud\n    - base_cloud\n    - resource\n---\ntype: edge\nfrom: root\nto: 2RZlTX9yzeBwTNT_H1KZVA\nedge_type: default\n"} language={"shell"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>

